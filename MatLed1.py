#!/usr/bin/env python3
import time
import wiringpi as w 

P_ANO = [20, 21, 22, 23, 24]
P_CAT = [6, 7, 2, 8, 3, 4, 5]
DT = [ [ 0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0],
       [ 0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0],
       [ 0,0,0,0,0,1,0,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,1,0,0,0,0,0,1,0,0,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0],
       [ 0,0,0,0,0,1,1,1,1,1,0,1,0,0,1,0,1,0,0,1,0,1,0,0,1,0,0,0,0,1,0,0,1,0,0,1,0,1,0,0,1,0,1,0,1,0,0,1,0,0,1,1,1,0,0,0,0,0,0,0,0,0],
       [ 0,0,0,0,0,1,0,0,0,1,0,1,1,1,1,0,1,0,0,1,0,1,0,0,1,0,0,0,0,1,0,0,1,0,0,1,0,1,0,0,1,0,1,1,0,0,0,1,0,1,0,0,1,0,0,0,0,0,0,0,0,0],
       [ 0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,0,1,0,0,1,0,1,0,0,1,0,0,0,0,1,0,0,1,0,0,1,0,1,0,0,1,0,1,0,0,0,0,1,0,1,0,0,1,0,0,0,0,0,0,0,0,0],
       [ 0,0,0,0,0,1,0,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,1,0,0,0,0,0,0,1,1,0,1,1,0,0,0,1,1,0,0,1,0,0,0,0,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0] ]

w.wiringPiSetupGpio()
cnt = 0
base = 0

for cat in range(7):
	w.pinMode( P_CAT[cat], 1 )
	w.digitalWrite( P_CAT[cat], 1 )
for ano in range(5):
	w.pinMode( P_ANO[ano], 1 )
	w.digitalWrite( P_ANO[ano], 0 )

while 1:
	cnt += 1
	print(base)
	if cnt >= 20:
		cnt = 0
		base += 1
		if base >= 53:
			base = 0
	for cat in range(7):
		w.digitalWrite( P_CAT[cat], 0 )
		for ano in range(5):
			w.digitalWrite( P_ANO[ano], DT[cat][ano+base] ) 
			time.sleep( 0.0001 )
			w.digitalWrite( P_ANO[ano], 0 ) 
		w.digitalWrite( P_CAT[cat], 1 )
